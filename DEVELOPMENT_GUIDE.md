# 微信小程序：一键配图助手 - 开发指南

**创建时间**: 2026-01-31
**基于**: 腾讯 AI 小程序成长计划

---

## ✅ 已完成内容

### 第一周：基础架构 ✅

**环境配置：**
- ✅ project.config.json（项目配置）
- ✅ app.js（小程序入口）
- ✅ app.json（页面配置）

**前端页面：**
- ✅ pages/index/index.wxml（首页UI）
- ✅ pages/index/index.js（首页逻辑）
- ✅ pages/index/index.wxss（首页样式）
- ✅ pages/preview/preview.wxml（预览页面）

**云函数：**
- ✅ article-analyzer（文章分析云函数）
- ✅ image-generator（图片生成云函数）

**数据库设计：**
- ✅ database-design.md（数据库设计文档）

**文档：**
- ✅ README.md（项目说明）
- ✅ 开发指南（本文件）

---

## 🔧 如何使用

### 步骤1：在微信开发者工具中打开

1. 打开微信开发者工具
2. 选择"导入项目"
3. 选择路径：`/root/.openclaw/workspace/article-illustrator`
4. 在 `project.config.json` 中填入你的 appid

### 步骤2：开通云开发

1. 点击"云开发"按钮
2. 开通云开发环境
3. 记录环境ID（env）

### 步骤3：上传云函数

1. 右键 `cloudfunctions/article-analyzer` → "上传并部署：云端安装依赖"
2. 右键 `cloudfunctions/image-generator` → "上传并部署：云端安装依赖"
3. 等待部署完成

### 步骤4：创建数据库集合

在云开发控制台创建以下集合：
- users（用户信息）
- articles（文章记录）
- images（图片详情）
- styles（风格配置）

### 步骤5：运行测试

1. 点击"编译"按钮
2. 在真机或模拟器中测试

---

## 📝 下一步待开发

### 第二周：核心功能

**首页逻辑完善：**
- [ ] 用户登录逻辑
- [ ] 免费额度检查
- [ ] 次数扣除逻辑
- [ ] 错误处理

**配图预览页面：**
- [ ] preview.js（页面逻辑）
- [ ] preview.wxss（页面样式）
- [ ] 导出功能实现

**图片操作：**
- [ ] 重新生成单张图片
- [ ] 删除图片
- [ ] 调整图片位置
- [ ] 图片预览

---

### 第三周：优化与导出

**导出功能：**
- [ ] Markdown 导出
- [ ] HTML 导出
- [ ] 图片打包下载
- [ ] 保存到相册

**用户体验：**
- [ ] 加载动画
- [ ] 错误提示
- [ ] 成功反馈
- [ ] 进度显示

**广告接入：**
- [ ] 申请流量主
- [ ] 配置广告单元
- [ ] 智能接入测试

---

### 第四周：上线准备

**小程序审核：**
- [ ] 提交审核材料
- [ ] 配置隐私协议
- [ ] 准备说明文档
- [ ] 等待审核

**内容准备：**
- [ ] 准备推广文案
- [ ] 制作宣传图
- [ ] 准备演示视频
- [ ] 发布到公众号

---

## 🐛 常见问题

### Q1: 云函数调用失败
**A:** 检查：
1. 云函数是否上传成功
2. 环境ID是否正确
3. 权限是否配置

### Q2: 图片生成失败
**A:** 检查：
1. AI成长计划是否申请
2. Token是否充足
3. 混元模型是否配置

### Q3: 免费额度不显示
**A:** 需要：
1. 用户登录获取OpenID
2. 创建用户记录
3. 初始化免费次数

---

## 📊 开发进度

- [x] 基础架构搭建（100%）
- [ ] 核心功能开发（0%）
- [ ] 优化与导出（0%）
- [ ] 上线准备（0%）

**总体进度：25%**

---

## 🎯 本周目标（第一周）

- [x] 创建项目结构
- [x] 配置云开发
- [x] 开发首页UI
- [x] 编写云函数
- [x] 设计数据库

---

## 🚀 下周目标（第二周）

- [ ] 完善首页逻辑
- [ ] 开发预览页面
- [ ] 实现图片操作
- [ ] 测试核心流程

---

## 📞 获取帮助

- 云开发文档：https://docs.cloudbase.net
- 小程序开发文档：https://developers.weixin.qq.com
- 混元AI文档：https://cloud.tencent.com/product/ai

---

**持续更新中...** 📝
